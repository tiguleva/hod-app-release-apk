

# Hod - Android приложение для управления маршрутами

Hod - это Android-приложение на Flutter, которое позволяет управлять списком адресов, строить маршруты и отслеживать посещенные места.

## Основные функции

### 1. Управление адресами
- Добавление адресов с полями: улица, номер дома, квартира, номер участка
- Автоматический геокодинг адресов для получения координат
- Редактирование существующих адресов
- Удаление адресов

### 2. Карта и маршруты
- Отображение всех адресов на карте с маркерами
- Отслеживание текущего местоположения пользователя в реальном времени
- Построение пеших маршрутов через все непосещенные точки
- Оптимизация маршрута по принципу ближайшего соседа

### 3. Отметка посещенных мест
- Возможность отметить адрес как посещенный
- Добавление текстовых комментариев к адресам
- Визуальное отображение статуса посещения

### 4. История маршрутов
- Создание именованных маршрутов
- Сохранение истории маршрутов
- Отслеживание прогресса выполнения маршрутов

### 5. Локальное хранение
- Все данные сохраняются в SQLite
- Автоматическое обновление маршрутов при изменении адресов

## Структура проекта

```
flutter_app/
├── lib/
│   ├── main.dart                    # Главный файл приложения
│   └── src/
│       ├── data/
│       │   └── database.dart        # SQLite база данных
│       ├── models/
│       │   ├── address.dart         # Модель адреса
│       │   └── route.dart           # Модель маршрута
│       ├── providers/
│       │   └── app_provider.dart    # Управление состоянием
│       ├── screens/
│       │   ├── address_list_screen.dart    # Список адресов
│       │   ├── add_address_screen.dart     # Добавление адреса
│       │   ├── edit_address_screen.dart    # Редактирование адреса
│       │   ├── map_screen.dart             # Карта с маршрутами
│       │   ├── route_history_screen.dart   # История маршрутов
│       │   ├── create_route_screen.dart    # Создание маршрута
│       │   └── route_detail_screen.dart    # Детали маршрута
│       └── services/
│           ├── geocoding_service.dart      # Сервис геокодинга
│           ├── location_service.dart       # Управление местоположением
│           └── route_service.dart          # Планирование маршрутов
├── android/
│   └── app/src/main/
│       └── AndroidManifest.xml      # Разрешения Android
├── pubspec.yaml                     # Зависимости Flutter
└── README.md                        # Инструкции по сборке
```

## Технологии

- **Flutter** - кроссплатформенный фреймворк
- **SQLite** - локальное хранение данных
- **OpenStreetMap** - карты
- **Nominatim** - геокодинг адресов
- **Geolocator** - работа с GPS
- **Provider** - управление состоянием

## Требования

- Flutter 3.3.0+
- Android SDK
- Android Studio (рекомендуется)

## Установка и запуск

### Локальная сборка APK
```bash
cd flutter_app
flutter pub get
flutter build apk --release
```
Готовый APK: `build/app/outputs/flutter-apk/app-release.apk`

### Автоматическая сборка через GitHub Actions
1. Запушьте код в GitHub репозиторий
2. Перейдите в раздел "Actions"
3. Запустите workflow "Build Android APK"
4. Скачайте готовый APK из артефактов

## Разрешения

Приложение запрашивает следующие разрешения:
- **Местоположение** - для отображения текущего местоположения и построения маршрутов
- **Интернет** - для геокодинга адресов и загрузки карт

## Использование

### Добавление адреса
1. Перейдите на вкладку "Адреса"
2. Нажмите кнопку "+" в правом верхнем углу
3. Заполните поля адреса
4. Нажмите "Сохранить" - адрес будет автоматически геокодирован

### Просмотр карты
1. Перейдите на вкладку "Карта"
2. Увидите все добавленные адреса в виде маркеров
3. Зеленые маркеры - посещенные адреса, красные - непосещенные
4. Синий маркер - ваше текущее местоположение
5. Нажмите на кнопку с иконкой пешехода для построения маршрута

### Отметка посещенного адреса
1. В списке адресов нажмите на адрес
2. Включите переключатель "Посещен"
3. Добавьте комментарий при необходимости
4. Нажмите "Сохранить"

### Создание маршрута
1. Перейдите на вкладку "История"
2. Нажмите кнопку "+" для создания нового маршрута
3. Выберите адреса для включения в маршрут
4. Дайте название маршруту и сохраните

## Особенности реализации

- **Автоматическое обновление маршрутов** - при добавлении новых адресов маршрут автоматически пересчитывается
- **Оптимизация маршрута** - используется алгоритм ближайшего соседа для построения оптимального пути
- **Реактивный UI** - все изменения в данных автоматически отражаются в интерфейсе
- **Обработка ошибок** - корректная обработка ошибок геокодинга и построения маршрутов

## Архитектура

Приложение построено по принципу MVVM с использованием:
- **Provider** для управления состоянием
- **SQLite** для локального хранения данных
- **Async/await** для асинхронных операций
- **ChangeNotifier** для реактивного программирования

## Лицензия

Этот проект создан в образовательных целях.
